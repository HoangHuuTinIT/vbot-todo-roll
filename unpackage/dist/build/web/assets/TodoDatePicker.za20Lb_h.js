import{f as A,r as e,c as l,x as a,i as t,j as o,w as n,A as s,k as c,t as i,H as u,D as r,O as d,m as g,N as m,u as f,l as v,B as p,E as h,F as k,G as _,ac as C,ad as B,L as y,ae as I,P as b,R as E,Q as S,af as Q,y as x,z as w}from"./index-QVVW7vKj.js";import{_ as R,o as T}from"./GlobalNotification.BhdNdCXS.js";const J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkklEQVR4nO2UOQrDMBQFdYmY5HgqNAgdM668NXHh4zh8SBEEXrR1f0Cg5r3hFZIxiqIotQDewOy970q7pANYgP6OeAR259xaIpesdPy6hsuAtfYBfCQAbMArVRp3hBCeWcEUeba0RF4szZFXk6bIq0vvyJtJz+TNpQdvc/2/1/hwTolWtl16sHyS03ypoiiKifgCmKK058HKOCgAAAAASUVORK5CYII=",z=A=>{if(!A)return"";let e=A.trim();/^https?:\/\//i.test(e)||(e="http://"+e);try{return new URL(e).hostname}catch(l){const A=e.match(/^(?:https?:\/\/)?(?:www\.)?([^:\/\n?]+)/im);return A?A[1]:""}},H=A=>{if(!A)return{cleanHtml:"",links:[]};const e=[];return{cleanHtml:A.replace(/<iframe[^>]+src="([^">]+)"[^>]*><\/iframe>/g,((A,l)=>(l&&e.push(l),""))),links:e}},D=(A,e)=>{let l=A;return e.forEach((A=>{l+=`<iframe class="ql-video" frameborder="0" allowfullscreen="true" src="${A}"></iframe>`})),l},V=A=>{if(!A)return;let e=A.trim();e.startsWith("http")||(e="https://"+e),window.open(e,"_blank")},$=R(A({__name:"LinkCard",props:{url:{type:String,required:!0,default:""},removable:{type:Boolean,default:!1}},emits:["remove"],setup(A,{emit:f}){const v=A,p=e(!1),h=l((()=>(A=>{let e=z(A);if(!e)return"Liên kết ngoài";try{e=e.replace(/^www\./,"");const A=e.split(".");let l=A[0];if(A.length>2){const e=A[A.length-1],a=A[A.length-2];2===e.length&&["com","net","org","gov","edu"].includes(a)?A.length>=3&&(l=A[A.length-3]):l=A[A.length-2]}else 2===A.length&&(l=A[0]);return l.charAt(0).toUpperCase()+l.slice(1)}catch(l){return e||"Liên kết ngoài"}})(v.url))),k=l((()=>(A=>{const e=z(A);return e?`https://www.google.com/s2/favicons?domain=${e}&sz=64`:""})(v.url)));a((()=>v.url),(()=>{p.value=!1}));const _=A=>{p.value=!0},C=()=>{V(v.url)};return(e,l)=>{const a=d,f=g,v=m;return A.url?(t(),o(f,{key:0,class:"link-card",onClick:u(C,["stop"])},{default:n((()=>[s(f,{class:"link-card-icon"},{default:n((()=>[!p.value&&k.value?(t(),o(a,{key:0,src:k.value,class:"card-icon-img",mode:"aspectFit",onError:_},null,8,["src"])):(t(),o(a,{key:1,src:"https://img.icons8.com/ios-filled/50/007aff/internet.png",class:"card-icon-img"}))])),_:1}),s(f,{class:"link-card-content"},{default:n((()=>[s(v,{class:"link-domain"},{default:n((()=>[c(i(h.value),1)])),_:1}),s(v,{class:"link-url"},{default:n((()=>[c(i(A.url),1)])),_:1})])),_:1}),A.removable?(t(),o(f,{key:0,class:"link-card-remove",onClick:l[0]||(l[0]=u((A=>e.$emit("remove")),["stop"]))},{default:n((()=>[s(v,{class:"remove-btn"},{default:n((()=>[c("✕")])),_:1})])),_:1})):r("",!0)])),_:1})):r("",!0)}}}),[["__scopeId","data-v-7fbf6fd0"]]),O=R(A({__name:"TodoEditor",props:{modelValue:String,placeholder:{type:String,default:""},readOnly:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(A,{emit:x}){const{t:w}=f(),R=A,T=x,J=[{name:"header",iconText:"H",style:"font-weight:bold",action:"header-menu"},{name:"fontSize",iconText:"A",style:"font-weight:bold; font-size:16px",action:"fontsize-menu"},{name:"bold",iconText:"B",style:"font-weight:900"},{name:"italic",iconText:"I",style:"font-style:italic"},{name:"underline",iconText:"U",style:"text-decoration:underline"},{name:"color",iconImg:"/static/text_color.png",action:"color-picker"},{name:"backgroundColor",iconImg:"/static/background_color.png",action:"bgcolor-picker"},{name:"strike",iconText:"S",style:"text-decoration:line-through"},{name:"align",iconImg:"/static/align-left.png",action:"align-menu"},{name:"list",value:"ordered",iconImg:"/static/numbered-list.png"},{name:"list",value:"bullet",iconImg:"/static/list.png"}],z=["#000000","#333333","#888888","#aaaaaa","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#880088","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5"],V=e(`editor-${Math.random().toString(36).substr(2,5)}`),O=e(null),P=e({}),U=S(),M=e(!1),N=e(""),F=e(!1),G=e(!1),K=e(""),X=e(!1),j=e(""),L=e(!1),q=e("color"),W=e([]),Y=e(!1),Z=()=>{Y.value=!Y.value},AA=e(!1),eA=e([]),lA=e(!1),aA=e(""),tA=e(0);e(0);const oA=e("top"),nA=l((()=>"fixed"===oA.value?{}:{top:`${tA.value}px`})),sA=()=>{aA.value&&(window.open(aA.value,"_blank"),lA.value=!1)},cA=()=>{aA.value&&C({data:aA.value,success:()=>{B({title:"Đã sao chép link",icon:"none"}),lA.value=!1}})},iA=()=>{aA.value&&(K.value=aA.value,lA.value=!1,G.value=!0)},uA=()=>{j.value="",X.value=!0},rA=()=>{if(j.value){let A=j.value.trim();A.startsWith("http")||(A="https://"+A),W.value.push(A),dA()}X.value=!1},dA=()=>{O.value&&O.value.getContents({success:A=>{const e=A.html;N.value=e;const l=D(e,W.value);T("update:modelValue",l)}})},gA=A=>{const e=P.value[A.name];return"header-menu"===A.action?e?`H${e}`:"H":"fontsize-menu"===A.action?"small"===e?"Sm":"large"===e?"Lg":"huge"===e?"Hg":"A":A.iconText},mA=A=>{if("align-menu"===A.action){switch(P.value.align||"left"){case"center":return"/static/align-center.png";case"right":return"/static/align-right.png";case"justify":return"/static/align-justify.png";default:return"/static/align-left.png"}}return A.iconImg},fA=A=>{const e=P.value[A.name];return"header-menu"===A.action||"fontsize-menu"===A.action?!!e:"align-menu"===A.action?!!e&&"left"!==e:"color"===A.name?!!P.value.color:"backgroundColor"===A.name?!!P.value.backgroundColor:A.value?e===A.value:!!e},vA=()=>{AA.value=!1},pA=()=>{eA.value=[{text:w("editor.align_left"),handler:()=>bA("align","left")},{text:w("editor.align_center"),handler:()=>bA("align","center")},{text:w("editor.align_right"),handler:()=>bA("align","right")},{text:w("editor.align_justify"),handler:()=>bA("align","justify")}],AA.value=!0},hA=()=>{eA.value=[{text:w("editor.size_small"),handler:()=>bA("fontSize","12px")},{text:w("editor.size_normal"),handler:()=>bA("fontSize","16px")},{text:w("editor.size_large"),handler:()=>bA("fontSize","24px")},{text:w("editor.size_huge"),handler:()=>bA("fontSize","32px")}],AA.value=!0},kA=()=>{eA.value=[{text:"Heading 1",handler:()=>bA("header",1)},{text:"Heading 2",handler:()=>bA("header",2)},{text:"Heading 3",handler:()=>bA("header",3)},{text:"Heading 4",handler:()=>bA("header",4)},{text:w("editor.size_normal"),handler:()=>bA("header",null)}],AA.value=!0},_A=()=>{eA.value=[{text:w("editor.img_camera"),handler:()=>{Q({count:1,sourceType:["camera"],success:A=>CA(A)})}},{text:w("editor.img_album"),handler:()=>{Q({count:1,sourceType:["album"],success:A=>CA(A)})}}],AA.value=!0},CA=A=>{const e=A.tempFilePaths[0];setTimeout((()=>{O.value&&O.value.insertImage({src:e,width:"80%",alt:"image",success:function(){console.log("Chèn ảnh thành công")},fail:function(A){console.error("Chèn ảnh thất bại",A)}})}),200)},BA=()=>{y().in(U).select(`#${V.value}`).context((A=>{if(A&&A.context&&(O.value=A.context,R.modelValue)){const{cleanHtml:A,links:e}=H(R.modelValue);W.value=e,O.value.setContents({html:A}),N.value=A}})).exec()},yA=A=>{lA.value=!1,F.value=!0;const e=A.detail.html;N.value=e;const l=D(e,W.value);T("update:modelValue",l)},IA=A=>{P.value=A.detail,M.value=!!A.detail.link,A.detail.link?(aA.value=A.detail.link,lA.value=!0,O.value&&("function"==typeof O.value.getSelectionRect?O.value.getSelectionRect({success:A=>{A&&void 0!==A.bottom?(oA.value="bottom",tA.value=A.bottom+8):oA.value="fixed"},fail:()=>{oA.value="fixed"}}):oA.value="fixed")):lA.value=!1},bA=(A,e=null)=>{O.value&&O.value.format(A,e)},EA=A=>{bA(q.value,A||null),L.value=!1},SA=()=>{L.value=!1},QA=()=>{M.value?(O.value.format("link",null),lA.value=!1):(K.value="",G.value=!0)},xA=()=>{K.value&&O.value.format("link",K.value),G.value=!1},wA=()=>{O.value.removeFormat()};return a((()=>R.modelValue),(A=>{if(O.value){if(F.value)return void(F.value=!1);const{cleanHtml:e,links:l}=H(A||"");e!==N.value&&(O.value.setContents({html:e}),N.value=e),JSON.stringify(l)!==JSON.stringify(W.value)&&(W.value=l)}})),(e,l)=>{const a=I,f=m,C=g,B=d,y=b,S=E;return t(),o(C,{class:v(["editor-container",{"is-readonly":A.readOnly}])},{default:n((()=>[s(C,{class:"editor-wrapper"},{default:n((()=>[s(a,{id:V.value,class:"ql-container",placeholder:A.readOnly?"":A.placeholder||e.$t("editor.placeholder"),"read-only":A.readOnly,"show-img-size":"","show-img-toolbar":"","show-img-resize":"",onReady:BA,onInput:yA,onStatuschange:IA},null,8,["id","placeholder","read-only"]),lA.value?(t(),o(C,{key:0,class:v(["link-tooltip",{"is-fixed":"fixed"===oA.value}]),style:p(nA.value),onClick:l[0]||(l[0]=u((()=>{}),["stop"]))},{default:n((()=>[s(C,{class:"tooltip-content"},{default:n((()=>[s(f,{class:"tooltip-url"},{default:n((()=>[c(i(aA.value),1)])),_:1})])),_:1}),s(C,{class:"tooltip-actions"},{default:n((()=>[s(C,{class:"t-btn",onClick:sA},{default:n((()=>[c(i(e.$t("common.open_link")||"Mở"),1)])),_:1}),s(C,{class:"t-divider"}),s(C,{class:"t-btn",onClick:cA},{default:n((()=>[c(i(e.$t("common.copy_link")||"Copy"),1)])),_:1}),s(C,{class:"t-divider"}),s(C,{class:"t-btn",onClick:iA},{default:n((()=>[c(i(e.$t("common.edit_link")||"Sửa"),1)])),_:1})])),_:1}),"fixed"!==oA.value?(t(),o(C,{key:0,class:v(["tooltip-arrow",oA.value])},null,8,["class"])):r("",!0)])),_:1},8,["style","class"])):r("",!0)])),_:1}),W.value.length>0?(t(),o(C,{key:0,class:"link-section-frame"},{default:n((()=>[s(C,{class:"link-section-header",onClick:Z},{default:n((()=>[s(C,{class:"header-left"},{default:n((()=>[s(B,{src:"/assets/link-BdDtBbpL.png",class:"header-icon"}),s(f,{class:"header-title"},{default:n((()=>[c(i(e.$t("todo.attached_links"))+" ("+i(W.value.length)+")",1)])),_:1})])),_:1}),s(B,{src:"https://img.icons8.com/ios-glyphs/30/666666/expand-arrow--v1.png",class:v(["toggle-arrow",{open:Y.value}])},null,8,["class"])])),_:1}),Y.value?(t(),o(C,{key:0,class:"link-list-content"},{default:n((()=>[(t(!0),h(_,null,k(W.value,((A,e)=>(t(),o($,{key:e,url:A,removable:!0,onRemove:A=>(A=>{W.value.splice(A,1),dA()})(e)},null,8,["url","onRemove"])))),128))])),_:1})):r("",!0)])),_:1})):r("",!0),A.readOnly?r("",!0):(t(),o(C,{key:1,class:"toolbar"},{default:n((()=>[s(C,{class:"tool-list"},{default:n((()=>[(t(),h(_,null,k(J,((A,e)=>s(C,{key:e,class:v(["tool-item",{active:fA(A)}]),onTouchend:u((e=>(A=>"header-menu"===A.action?kA():"fontsize-menu"===A.action?hA():"align-menu"===A.action?pA():"color-picker"===A.action?(q.value="color",void(L.value=!0)):"bgcolor-picker"===A.action?(q.value="backgroundColor",void(L.value=!0)):void bA(A.name,A.value))(A)),["prevent"])},{default:n((()=>[A.iconText?(t(),o(f,{key:0,style:p(A.style),class:v(["txt-icon",{"txt-dynamic":A.action}])},{default:n((()=>[c(i(gA(A)),1)])),_:2},1032,["style","class"])):(t(),o(B,{key:1,src:mA(A),class:"img-icon"},null,8,["src"]))])),_:2},1032,["class","onTouchend"]))),64)),s(C,{class:"tool-divider"}),s(C,{class:"tool-item",onTouchend:u(_A,["prevent"])},{default:n((()=>[s(B,{src:"/assets/choseImage-c9DaY111.png",class:"img-icon"})])),_:1}),s(C,{class:v(["tool-item",{active:M.value}]),onTouchend:u(QA,["prevent"])},{default:n((()=>[s(B,{src:"/assets/link-BdDtBbpL.png",class:"img-icon"})])),_:1},8,["class"]),s(C,{class:"tool-item",onTouchend:u(uA,["prevent"])},{default:n((()=>[s(B,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAPusAAD7rAFZ4cbGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAJBQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPUIf2wAAAC90Uk5TAAgQGCY4QEZgaHB4fICIkJWXmJqbnqGoq66wsre4v8rQ0djc4OHj5ebq7O/4/P1rVkojAAAEoElEQVR42u3VX0uTcRjH4W3gXyIr0bR4yMiD6sC9/5cxNCKIHVgUQdrBgkTaKk+lxb18dPfuXdf5hn5/H3b3OjfV61+zHv1k0/+HzU4pG9P+z8PoN6z+7dO9mz9fh6UmAAEgAASAABAAAkAACAABIAAEgAAQAAJAAHepOSilEcCM1rdK2RAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAlkc3bGECWI0S3x+bR0EvFyaA56+CHnh+JwABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIABKBHAyqGcsAATAMgTw7V3QF+snWKv9AL5fBI08f4K1nAAnAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAMUDePg4aNf6CdZqP4B7e0H3PX+CtZwAJwABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABMBSBPDpOGho/QRrtR/AeBLl+ROs5QQ4AQgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAACgeQNMPOrR+grX8AvgFQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAGUD+Po26KP1E6zVfgA/LoMuPH+CtTKegP0n9aQ9tRn/sO2deroCQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIADmGMDeQVBj/QRrtR/AylbQmudPsJYT4AQgAASQyMmgnrEAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIADmEsDPUdCl9ROs1X4An4dBp54/wVpOgBOAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAiA4gGsrURZP8Fa7Qew+zromedPsJYT4AQgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAiAsgF8GAS9t36CtfwC+AVAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAARA8QB63ahp37D9qJ7ura2VLoCnR0Evpn3DflNP79bWcgIQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABCAABIAAEgAAQAAJAAP/tzXGQ7a+cRucaLkoAvyZBHv/KZDLnvZwAJwABIIBszoelnAtgRmejUs4EgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAmN1v1hn4526rWd8AAAAASUVORK5CYII=",class:"img-icon"})])),_:1}),s(C,{class:"tool-item",onTouchend:u(wA,["prevent"])},{default:n((()=>[s(f,{class:"txt-icon",style:{"font-size":"12px"}},{default:n((()=>[c("Clear")])),_:1})])),_:1})])),_:1})])),_:1})),G.value?(t(),o(C,{key:2,class:"modal-overlay",onClick:l[4]||(l[4]=A=>G.value=!1)},{default:n((()=>[s(C,{class:"modal-box",onClick:l[3]||(l[3]=u((()=>{}),["stop"]))},{default:n((()=>[s(f,{class:"modal-title"},{default:n((()=>[c(i(e.$t("editor.link_modal_title")),1)])),_:1}),s(y,{class:"modal-input",modelValue:K.value,"onUpdate:modelValue":l[1]||(l[1]=A=>K.value=A),placeholder:"https://example.com",focus:G.value},null,8,["modelValue","focus"]),s(C,{class:"modal-actions"},{default:n((()=>[s(S,{class:"btn-cancel",onClick:l[2]||(l[2]=A=>G.value=!1)},{default:n((()=>[c(i(e.$t("common.cancel")),1)])),_:1}),s(S,{class:"btn-confirm",onClick:xA},{default:n((()=>[c(i(e.$t("common.confirm")),1)])),_:1})])),_:1})])),_:1})])),_:1})):r("",!0),X.value?(t(),o(C,{key:3,class:"modal-overlay",onClick:l[8]||(l[8]=A=>X.value=!1)},{default:n((()=>[s(C,{class:"modal-box",onClick:l[7]||(l[7]=u((()=>{}),["stop"]))},{default:n((()=>[s(f,{class:"modal-title"},{default:n((()=>[c(i(e.$t("editor.card_modal_title")),1)])),_:1}),s(f,{class:"modal-desc"},{default:n((()=>[c(i(e.$t("editor.card_modal_desc")),1)])),_:1}),s(y,{class:"modal-input",modelValue:j.value,"onUpdate:modelValue":l[5]||(l[5]=A=>j.value=A),placeholder:"https://youtube.com/...",focus:X.value},null,8,["modelValue","focus"]),s(C,{class:"modal-actions"},{default:n((()=>[s(S,{class:"btn-cancel",onClick:l[6]||(l[6]=A=>X.value=!1)},{default:n((()=>[c(i(e.$t("common.cancel")),1)])),_:1}),s(S,{class:"btn-confirm",onClick:rA},{default:n((()=>[c(i(e.$t("common.confirm")),1)])),_:1})])),_:1})])),_:1})])),_:1})):r("",!0),L.value?(t(),o(C,{key:4,class:"modal-overlay",onClick:SA},{default:n((()=>[s(C,{class:"modal-box color-box",onClick:l[12]||(l[12]=u((()=>{}),["stop"]))},{default:n((()=>[s(C,{class:"color-tabs"},{default:n((()=>[s(C,{class:v(["color-tab",{active:"color"===q.value}]),onClick:l[9]||(l[9]=A=>q.value="color")},{default:n((()=>[c(i(e.$t("editor.color_text")),1)])),_:1},8,["class"]),s(C,{class:v(["color-tab",{active:"backgroundColor"===q.value}]),onClick:l[10]||(l[10]=A=>q.value="backgroundColor")},{default:n((()=>[c(i(e.$t("editor.color_bg")),1)])),_:1},8,["class"])])),_:1}),s(C,{class:"color-grid"},{default:n((()=>[s(C,{class:"color-circle no-color",onClick:l[11]||(l[11]=A=>EA(""))},{default:n((()=>[s(f,{class:"x-mark"},{default:n((()=>[c("✕")])),_:1})])),_:1}),(t(),h(_,null,k(z,((A,e)=>{return s(C,{key:e,class:v(["color-circle",{selected:(l=A,P.value[q.value]===l)}]),style:p({backgroundColor:A}),onClick:e=>EA(A)},null,8,["style","class","onClick"]);var l})),64))])),_:1})])),_:1})])),_:1})):r("",!0),s(C,{class:v(["custom-sheet-mask",{show:AA.value}]),onClick:vA},{default:n((()=>[s(C,{class:"custom-sheet-panel",onClick:l[13]||(l[13]=u((()=>{}),["stop"]))},{default:n((()=>[(t(!0),h(_,null,k(eA.value,((A,e)=>(t(),o(C,{key:e,class:"sheet-item",onClick:e=>(A=>{A.handler(),vA()})(A)},{default:n((()=>[s(f,null,{default:n((()=>[c(i(A.text),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),s(C,{class:"sheet-gap"}),s(C,{class:"sheet-item cancel",onClick:vA},{default:n((()=>[s(f,null,{default:n((()=>[c(i(e.$t("common.cancel")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["class"])])),_:1},8,["class"])}}}),[["__scopeId","data-v-1ae3fb02"]]),P=R(A({__name:"TodoDatePicker",props:{dueDate:{},notifyAt:{}},emits:["update:dueDate","update:notifyAt","change"],setup(A,{emit:e}){const l=e;f();const a=A=>{l("update:dueDate",A),l("change",{field:"dueDate",value:A})},u=A=>{l("update:notifyAt",A),l("change",{field:"notifyAt",value:A})},r=A=>{if(!A)return"";try{const e=new Date(A.replace(/-/g,"/"));if(isNaN(e.getTime()))return A;const l=e.getDate().toString().padStart(2,"0"),a=(e.getMonth()+1).toString().padStart(2,"0"),t=e.getFullYear(),o=e.getHours().toString().padStart(2,"0");return`${l}/${a}/${t} ${o}:${e.getMinutes().toString().padStart(2,"0")}`}catch(e){return A}};return(A,e)=>{const l=d,f=g,p=m,h=x(w("uni-datetime-picker"),T);return t(),o(f,{class:"flat-item date-compound-block"},{default:n((()=>[s(f,{class:"item-left icon-top-aligned"},{default:n((()=>[s(l,{src:"https://img.icons8.com/ios/50/666666/clock--v1.png",class:"item-icon"})])),_:1}),s(f,{class:"right-column"},{default:n((()=>[s(f,{class:"date-row"},{default:n((()=>[s(h,{type:"datetime",value:A.dueDate,"hide-second":!0,border:!1,onChange:a,class:"full-width-picker"},{default:n((()=>[s(f,{class:v(["item-picker",{"placeholder-color":!A.dueDate}])},{default:n((()=>[s(p,{class:"picker-label"},{default:n((()=>[c(i(A.$t("todo.due_date_label")),1)])),_:1}),s(p,{class:"picker-value"},{default:n((()=>[c(i(A.dueDate?r(A.dueDate):A.$t("todo.select_date")),1)])),_:1})])),_:1},8,["class"])])),_:1},8,["value"])])),_:1}),s(f,{class:"inner-divider"}),s(f,{class:"date-row"},{default:n((()=>[s(h,{type:"datetime",value:A.notifyAt,"hide-second":!0,border:!1,onChange:u,class:"full-width-picker"},{default:n((()=>[s(f,{class:v(["item-picker",{"placeholder-color":!A.notifyAt}])},{default:n((()=>[s(p,{class:"picker-label"},{default:n((()=>[c(i(A.$t("todo.notify_date_label")),1)])),_:1}),s(p,{class:"picker-value"},{default:n((()=>[c(i(A.notifyAt?r(A.notifyAt):A.$t("todo.select_date")),1)])),_:1})])),_:1},8,["class"])])),_:1},8,["value"])])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-a1d1474f"]]);export{O as T,J as _,P as a,H as e,V as o};
