import{j as A,r as e,c as l,y as a,k as t,l as n,w as o,B as s,m as c,t as i,I as u,E as r,P as d,q as g,O as m,u as f,p as v,C as p,F as k,G as h,H as C,ai as y,aj as I,M as B,ak as S,Q,U as E,R as b,al as _,z as x,A as w}from"./index-oCJZCX07.js";import{_ as V,o as R}from"./GlobalNotification.BIU3JjIo.js";const J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkklEQVR4nO2UOQrDMBQFdYmY5HgqNAgdM668NXHh4zh8SBEEXrR1f0Cg5r3hFZIxiqIotQDewOy970q7pANYgP6OeAR259xaIpesdPy6hsuAtfYBfCQAbMArVRp3hBCeWcEUeba0RF4szZFXk6bIq0vvyJtJz+TNpQdvc/2/1/hwTolWtl16sHyS03ypoiiKifgCmKK058HKOCgAAAAASUVORK5CYII=",T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFeElEQVR4nO1aa2hcRRS+qe+iouATFLT4Q8SCVsXoL1HRiMVXXasiLMnO983exaWNgo8qLko0ahWV4gsEEeqDYG1N8FGF/vCHUnyDtgqKRU2rVGs0+EhsUznZMzq9vffu3WRvsi0ODGTnnDkz353zmHMmQfB/2wtbpVI5GMAlAO4nOQTgCwDbSI5L1783Ahgk2U+yS+YEbdI6ZPMkBwD8RXJnk/1PAC8JKJE1KwistVeT/DRhg9+RvIfkOd7YAgC3k9wUNwfAJ8aYK2cMQKlUOonk294mfiA5on9vJ/mArzKOz/2uVqsHkKwpr9C2AtjiyXszDMN5uYIgeT3J37wNLNEvL7/H5JRi5uwCxBvvIvm7nsYtJKsik/Xfv5JcnAeGDpJ9nhqsKZVKR5O8AMAO6caYhQngY4E4MAD+lm6M6VSZq73TubvVIB53qgPgRhmsVquHqi3IeF/S5DQgSr9Veb4qFosHypis4aneipagcCcB4A/fGNXNykLv1Wq1facKpFarzQHwrq5xhzfvClmzJSejNiEL7LDWXu6NHyuuU2nnNpCRCkRauVw+neSE2F8Yhoe7cVlT1pb5xphrpuOdnGHf5NMA3KvjQ43kZAGifC8r752RtXp1fGRK3ozk61MIcHn3tVMJdjvbsVtPxbN4KRexl8ac1LNKW5bxZDOplvIuU/6nYmhVpX2c6TqjdyeZMOzcYQTkZqGXy+VTcwAyX/k3RWmyFwDfq+FfnEXYQNQVerSTlbYly8aaBSINwI/CH2fYsieV92KqkJ6enkPUrU5Ya0+I2dQNKmh1jkDW6JzdriiyJ9mbxpe5DdUKwPqETS2Pc5EtBnKXzulPoK9X+kVpQly0Xp6wqVeSvlYLgVyrcwYS5D2k9PvSFh1SY4rNCwB8pCd2Vl5ASJ6ta7yfsIdFKvPVNCFfKpDTEuiTSZEx5sS8gIRhOE+BfJMgb4HK3JgoBMBPynREgpBfhF4sFg/LC0ilnvuPylpx9O7u7iNV5ta0RcdmMkon7cMY00ny57S5UiNoeyBecJwMvgl9LGhH1SK5juQHkiKk8WkWKSeyLZFJalGzZeyeynydJt8ZO4DP04AMqsCrZtr9RtRm2Fp7SgJfQfcwmCasPy0gAliVV0D0QKzTjYqanxmzh4eV77Y0YV2zdUVxfMX6LXfQlYWstedFgDyt6t2Z6sNn69Lo85Hcj+TzXtHj31JToVDYH8AzwpMqUGuxsV89z2t8lK9Wq80h+YSOj1trr8u65i7qJQbX29t7UFJiJX4+TyBRu9VCoA2aaSQ/bJTqxiVeeQDxingTylMLsja5/c50ZG8EGIB1Na6kXCVp4mvtBMTLVcZVI54UOwqyXKe1Ki4L3DwDBbpMfMaYhV4pdWVD76XCFztD85OtSqVyTCtLps3wSZPY4qqgEnNiqj27Nykge89ki1pdxM7CV6nnKG/JPczrTlsyaYZbZIXnApe08lkhC1+pXod2Xiuuf5YJSORkJo9T1MsYc/50HnqS+AqFwj56p3rUo69VnsfEfv0u0T5opklp3x2pXuqWegAlKStkBULy0ji+Qh3EC+63fCyhA7hQxzbLO2Qw3abe7I2kx1AAD6Y9hoph6rvj9jgg+A/EpCrJWtE0wlpbClrV9BFmUnC0a422Tzya92XPkNsAgG/T4gjrfUT/+WBUAc33H55IbsgUQ5poHVJQllqs59unFRBJjrgrutiIfpjn5Ld4R5elArislUD8jcyVMqZUALV+u0ErIWMCUk9JnitWyz8OON335g+L/Rkvz5BUQl58JZqHYXh8JPl7J2jHJl6wXC4fFR338pJVEkt89Q32pFauP5T69jcK4BFjzHHBntZIrpQTEJX0X3332vYPcl0YezzF/FYAAAAASUVORK5CYII=",z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADw0lEQVR4nO2ZXYhVVRTH12RmFlkpIhL1YPZpkWCgJPQQhIZvwVGxscvcs///fU/TNUeCcF6uEuiTfTxUihA+yuQnveQXmILYQ9CHImY9iCkx6KiRkZYpy1mHzkMz595zx9knmh/sp7vXumvtvc/aa60tMsYY/y3iOJ7pnHuN5FqSH5J8j2Svc+6lRqNxp5SZKIrGAaiSPEbyxjDjR5IvShkhOR3AkYyxZ0n2AXif5CobujMn9XcAv5P8CMALUhYqlcoDGQN/ILlIRDr+bW6j0bgDwIbsDgHYSvIeCQ3JLWbU1yTvz5uvznjvnya5kmS/ye6QkJB8hORfAP703j/XqnySJDMADJgzCyUUAN6w47G9DR1r0iMmoSC5U43w3sdFdcRx/JQ58pOEguRRNcI5N6/NsP0Hyb+DffQkT9n5frIdPQAuqx6NgBICkifUgFqt9kSbeq6onnq9PklCAOBL25HCN3Ucx5NNx28SCrvM9ENdWlQHybnmyHcja11rRvSaEeuL6gDwti3GJxIK59wCc+RAUR0kPzcdyyQUAF4xI34tkp5HUXQXyUumY5GEguRBM+KdoRLFHDoArLajtV9CkYbfInlWisqaI8clFAA+MyOqRXWQdLarfRIK7/3rZsRpLZ5albeC67QtxnIJheZJJLdpnqRphtYazcpakXU5zZ6jKBonoQHwjSWPs5qVIfms7eYJKQscrMfVqHUtyKw3mY1SFpxzc+yIDHR1dU1tMr+6YBFvvpQJALtshQ92d3dPGWpetVq9j+Qem7tPyob3/iGSv+QVWlq7mBN6oz8qZYSDnZRhHbEOyq1GnZQVAN/nOZLW6CTPSFmhlb61Wu2ZnBaSOtIvZSSO42la5amRSZI8PNQ8beJZo+GqOiVlgoOX27e20l80Mb8vvQxJPi+hcc7N0sqO5LVM73d6npyG50zXXjuVnzrnZstoogUUyVe1KrQjog5c1x5wK+0cu082m2za1D7snFtMcvxtc6BSqdwN4M00W7VxBcCm4T7uPCyKfZx+X7YwPwN4q6enZ+JI+tBhDzhnMw7osViRJMmDI/UnHAwC3ZlvTcc5rVcKVp//0NnZeS/J3RnFR0eja+69fzn7cKTpj9pSSFm9Xp9A8pApOk9yiYwyAJZnjtwhbVa0rITkB+kN7Jx7/LZY2nxoP2MLuqElYe/9Y/p4YxFlrgTGOTfPbLmmL8ZNCwJ411Zgr5QEkvvshKxtWgjAVyaUSEkgmaQBpxWhizlv5cEGgIGmnNBLKLSxzBl6ObexuWOM8b/jJtwwIqjk6mZBAAAAAElFTkSuQmCC",U=""+new URL("link-BdDtBbpL.png",import.meta.url).href,D=""+new URL("choseImage-c9DaY111.png",import.meta.url).href,Y=A=>{if(!A)return"";let e=A.trim();/^https?:\/\//i.test(e)||(e="http://"+e);try{return new URL(e).hostname}catch(l){const A=e.match(/^(?:https?:\/\/)?(?:www\.)?([^:\/\n?]+)/im);return A?A[1]:""}},q=A=>{if(!A)return{cleanHtml:"",links:[]};const e=[];return{cleanHtml:A.replace(/<iframe[^>]+src="([^">]+)"[^>]*><\/iframe>/g,((A,l)=>(l&&e.push(l),""))),links:e}},H=(A,e)=>{let l=A;return e.forEach((A=>{l+=`<iframe class="ql-video" frameborder="0" allowfullscreen="true" src="${A}"></iframe>`})),l},M=A=>{if(!A)return;let e=A.trim();e.startsWith("http")||(e="https://"+e),window.open(e,"_blank")},O=V(A({__name:"LinkCard",props:{url:{type:String,required:!0,default:""},removable:{type:Boolean,default:!1}},emits:["remove"],setup(A,{emit:f}){const v=A,p=e(!1),k=l((()=>(A=>{let e=Y(A);if(!e)return"Liên kết ngoài";try{e=e.replace(/^www\./,"");const A=e.split(".");let l=A[0];if(A.length>2){const e=A[A.length-1],a=A[A.length-2];2===e.length&&["com","net","org","gov","edu"].includes(a)?A.length>=3&&(l=A[A.length-3]):l=A[A.length-2]}else 2===A.length&&(l=A[0]);return l.charAt(0).toUpperCase()+l.slice(1)}catch(l){return e||"Liên kết ngoài"}})(v.url))),h=l((()=>(A=>{const e=Y(A);return e?`https://www.google.com/s2/favicons?domain=${e}&sz=64`:""})(v.url)));a((()=>v.url),(()=>{p.value=!1}));const C=A=>{p.value=!0},y=()=>{M(v.url)};return(e,l)=>{const a=d,f=g,v=m;return A.url?(t(),n(f,{key:0,class:"link-card",onClick:u(y,["stop"])},{default:o((()=>[s(f,{class:"link-card-icon"},{default:o((()=>[!p.value&&h.value?(t(),n(a,{key:0,src:h.value,class:"card-icon-img",mode:"aspectFit",onError:C},null,8,["src"])):(t(),n(a,{key:1,src:"https://img.icons8.com/ios-filled/50/007aff/internet.png",class:"card-icon-img"}))])),_:1}),s(f,{class:"link-card-content"},{default:o((()=>[s(v,{class:"link-domain"},{default:o((()=>[c(i(k.value),1)])),_:1}),s(v,{class:"link-url"},{default:o((()=>[c(i(A.url),1)])),_:1})])),_:1}),A.removable?(t(),n(f,{key:0,class:"link-card-remove",onClick:l[0]||(l[0]=u((A=>e.$emit("remove")),["stop"]))},{default:o((()=>[s(v,{class:"remove-btn"},{default:o((()=>[c("✕")])),_:1})])),_:1})):r("",!0)])),_:1})):r("",!0)}}}),[["__scopeId","data-v-3636e546"]]),N=V(A({__name:"TodoEditor",props:{modelValue:String,placeholder:{type:String,default:""},readOnly:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(A,{emit:x}){const{t:w}=f(),V=A,R=x,J=[{name:"header",iconText:"H",style:"font-weight:bold",action:"header-menu"},{name:"fontSize",iconText:"A",style:"font-weight:bold; font-size:16px",action:"fontsize-menu"},{name:"bold",iconText:"B",style:"font-weight:900"},{name:"italic",iconText:"I",style:"font-style:italic"},{name:"underline",iconText:"U",style:"text-decoration:underline"},{name:"color",iconImg:"/static/text_color.png",action:"color-picker"},{name:"backgroundColor",iconImg:"/static/background_color.png",action:"bgcolor-picker"},{name:"strike",iconText:"S",style:"text-decoration:line-through"},{name:"align",iconImg:"/static/align-left.png",action:"align-menu"},{name:"list",value:"ordered",iconImg:"/static/numbered-list.png"},{name:"list",value:"bullet",iconImg:"/static/list.png"}],T=["#000000","#333333","#888888","#aaaaaa","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#880088","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5"],z=e(`editor-${Math.random().toString(36).substr(2,5)}`),Y=e(null),M=e({}),N=b(),K=e(!1),X=e(""),P=e(!1),L=e(!1),F=e(""),Z=e(!1),j=e(""),G=e(!1),W=e("color"),$=e([]),AA=e(!1),eA=()=>{AA.value=!AA.value},lA=e(!1),aA=e([]),tA=e(!1),nA=e(""),oA=e(0);e(0);const sA=e("top"),cA=l((()=>"fixed"===sA.value?{}:{top:`${oA.value}px`})),iA=()=>{nA.value&&(window.open(nA.value,"_blank"),tA.value=!1)},uA=()=>{nA.value&&y({data:nA.value,success:()=>{I({title:"Đã sao chép link",icon:"none"}),tA.value=!1}})},rA=()=>{nA.value&&(F.value=nA.value,tA.value=!1,L.value=!0)},dA=()=>{j.value="",Z.value=!0},gA=()=>{if(j.value){let A=j.value.trim();A.startsWith("http")||(A="https://"+A),$.value.push(A),mA()}Z.value=!1},mA=()=>{Y.value&&Y.value.getContents({success:A=>{const e=A.html;X.value=e;const l=H(e,$.value);R("update:modelValue",l)}})},fA=A=>{const e=M.value[A.name];return"header-menu"===A.action?e?`H${e}`:"H":"fontsize-menu"===A.action?"small"===e?"Sm":"large"===e?"Lg":"huge"===e?"Hg":"A":A.iconText},vA=A=>{if("align-menu"===A.action){switch(M.value.align||"left"){case"center":return"/static/align-center.png";case"right":return"/static/align-right.png";case"justify":return"/static/align-justify.png";default:return"/static/align-left.png"}}return A.iconImg},pA=A=>{const e=M.value[A.name];return"header-menu"===A.action||"fontsize-menu"===A.action?!!e:"align-menu"===A.action?!!e&&"left"!==e:"color"===A.name?!!M.value.color:"backgroundColor"===A.name?!!M.value.backgroundColor:A.value?e===A.value:!!e},kA=()=>{lA.value=!1},hA=()=>{aA.value=[{text:w("editor.align_left"),handler:()=>bA("align","left")},{text:w("editor.align_center"),handler:()=>bA("align","center")},{text:w("editor.align_right"),handler:()=>bA("align","right")},{text:w("editor.align_justify"),handler:()=>bA("align","justify")}],lA.value=!0},CA=()=>{aA.value=[{text:w("editor.size_small"),handler:()=>bA("fontSize","12px")},{text:w("editor.size_normal"),handler:()=>bA("fontSize","16px")},{text:w("editor.size_large"),handler:()=>bA("fontSize","24px")},{text:w("editor.size_huge"),handler:()=>bA("fontSize","32px")}],lA.value=!0},yA=()=>{aA.value=[{text:"Heading 1",handler:()=>bA("header",1)},{text:"Heading 2",handler:()=>bA("header",2)},{text:"Heading 3",handler:()=>bA("header",3)},{text:"Heading 4",handler:()=>bA("header",4)},{text:w("editor.size_normal"),handler:()=>bA("header",null)}],lA.value=!0},IA=()=>{aA.value=[{text:w("editor.img_camera"),handler:()=>{_({count:1,sourceType:["camera"],success:A=>BA(A)})}},{text:w("editor.img_album"),handler:()=>{_({count:1,sourceType:["album"],success:A=>BA(A)})}}],lA.value=!0},BA=A=>{const e=A.tempFilePaths[0];setTimeout((()=>{Y.value&&Y.value.insertImage({src:e,width:"80%",alt:"image",success:function(){console.log("Chèn ảnh thành công")},fail:function(A){console.error("Chèn ảnh thất bại",A)}})}),200)},SA=()=>{B().in(N).select(`#${z.value}`).context((A=>{if(A&&A.context&&(Y.value=A.context,V.modelValue)){const{cleanHtml:A,links:e}=q(V.modelValue);$.value=e,Y.value.setContents({html:A}),X.value=A}})).exec()},QA=A=>{tA.value=!1,P.value=!0;const e=A.detail.html;X.value=e;const l=H(e,$.value);R("update:modelValue",l)},EA=A=>{M.value=A.detail,K.value=!!A.detail.link,A.detail.link?(nA.value=A.detail.link,tA.value=!0,Y.value&&("function"==typeof Y.value.getSelectionRect?Y.value.getSelectionRect({success:A=>{A&&void 0!==A.bottom?(sA.value="bottom",oA.value=A.bottom+8):sA.value="fixed"},fail:()=>{sA.value="fixed"}}):sA.value="fixed")):tA.value=!1},bA=(A,e=null)=>{Y.value&&Y.value.format(A,e)},_A=A=>{bA(W.value,A||null),G.value=!1},xA=()=>{G.value=!1},wA=()=>{K.value?(Y.value.format("link",null),tA.value=!1):(F.value="",L.value=!0)},VA=()=>{F.value&&(Y.value.format("link",F.value),setTimeout((()=>{mA()}),100)),L.value=!1},RA=()=>{Y.value.removeFormat()};return a((()=>V.modelValue),(A=>{if(Y.value){if(P.value)return void(P.value=!1);const{cleanHtml:e,links:l}=q(A||"");e!==X.value&&(Y.value.setContents({html:e}),X.value=e),JSON.stringify(l)!==JSON.stringify($.value)&&($.value=l)}})),(e,l)=>{const a=S,f=m,y=g,I=d,B=Q,b=E;return t(),n(y,{class:v(["editor-container",{"is-readonly":A.readOnly}])},{default:o((()=>[s(y,{class:"editor-wrapper"},{default:o((()=>[s(a,{id:z.value,class:"ql-container",placeholder:A.readOnly?"":A.placeholder||e.$t("editor.placeholder"),"read-only":A.readOnly,"show-img-size":"","show-img-toolbar":"","show-img-resize":"",onReady:SA,onInput:QA,onStatuschange:EA},null,8,["id","placeholder","read-only"]),tA.value?(t(),n(y,{key:0,class:v(["link-tooltip",{"is-fixed":"fixed"===sA.value}]),style:p(cA.value),onClick:l[0]||(l[0]=u((()=>{}),["stop"]))},{default:o((()=>[s(y,{class:"tooltip-content"},{default:o((()=>[s(f,{class:"tooltip-url"},{default:o((()=>[c(i(nA.value),1)])),_:1})])),_:1}),s(y,{class:"tooltip-actions"},{default:o((()=>[s(y,{class:"t-btn",onClick:iA},{default:o((()=>[c(i(e.$t("common.open_link")||"Mở"),1)])),_:1}),s(y,{class:"t-divider"}),s(y,{class:"t-btn",onClick:uA},{default:o((()=>[c(i(e.$t("common.copy_link")||"Copy"),1)])),_:1}),s(y,{class:"t-divider"}),s(y,{class:"t-btn",onClick:rA},{default:o((()=>[c(i(e.$t("common.edit_link")||"Sửa"),1)])),_:1})])),_:1}),"fixed"!==sA.value?(t(),n(y,{key:0,class:v(["tooltip-arrow",sA.value])},null,8,["class"])):r("",!0)])),_:1},8,["style","class"])):r("",!0)])),_:1}),$.value.length>0?(t(),n(y,{key:0,class:"link-section-frame"},{default:o((()=>[s(y,{class:"link-section-header",onClick:eA},{default:o((()=>[s(y,{class:"header-left"},{default:o((()=>[s(I,{src:U,class:"header-icon"}),s(f,{class:"header-title"},{default:o((()=>[c(i(e.$t("todo.attached_links"))+" ("+i($.value.length)+")",1)])),_:1})])),_:1}),s(I,{src:"https://img.icons8.com/ios-glyphs/30/666666/expand-arrow--v1.png",class:v(["toggle-arrow",{open:AA.value}])},null,8,["class"])])),_:1}),AA.value?(t(),n(y,{key:0,class:"link-list-content"},{default:o((()=>[(t(!0),k(C,null,h($.value,((A,e)=>(t(),n(O,{key:e,url:A,removable:!0,onRemove:A=>(A=>{$.value.splice(A,1),mA()})(e)},null,8,["url","onRemove"])))),128))])),_:1})):r("",!0)])),_:1})):r("",!0),A.readOnly?r("",!0):(t(),n(y,{key:1,class:"toolbar"},{default:o((()=>[s(y,{class:"tool-list"},{default:o((()=>[(t(),k(C,null,h(J,((A,e)=>s(y,{key:e,class:v(["tool-item",{active:pA(A)}]),onTouchend:u((e=>(A=>"header-menu"===A.action?yA():"fontsize-menu"===A.action?CA():"align-menu"===A.action?hA():"color-picker"===A.action?(W.value="color",void(G.value=!0)):"bgcolor-picker"===A.action?(W.value="backgroundColor",void(G.value=!0)):void bA(A.name,A.value))(A)),["prevent"])},{default:o((()=>[A.iconText?(t(),n(f,{key:0,style:p(A.style),class:v(["txt-icon",{"txt-dynamic":A.action}])},{default:o((()=>[c(i(fA(A)),1)])),_:2},1032,["style","class"])):(t(),n(I,{key:1,src:vA(A),class:"img-icon"},null,8,["src"]))])),_:2},1032,["class","onTouchend"]))),64)),s(y,{class:"tool-divider"}),s(y,{class:"tool-item",onTouchend:u(IA,["prevent"])},{default:o((()=>[s(I,{src:D,class:"img-icon"})])),_:1}),s(y,{class:v(["tool-item",{active:K.value}]),onTouchend:u(wA,["prevent"])},{default:o((()=>[s(I,{src:U,class:"img-icon"})])),_:1},8,["class"]),s(y,{class:"tool-item",onTouchend:u(dA,["prevent"])},{default:o((()=>[s(I,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAPusAAD7rAFZ4cbGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAJBQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPUIf2wAAAC90Uk5TAAgQGCY4QEZgaHB4fICIkJWXmJqbnqGoq66wsre4v8rQ0djc4OHj5ebq7O/4/P1rVkojAAAEoElEQVR42u3VX0uTcRjH4W3gXyIr0bR4yMiD6sC9/5cxNCKIHVgUQdrBgkTaKk+lxb18dPfuXdf5hn5/H3b3OjfV61+zHv1k0/+HzU4pG9P+z8PoN6z+7dO9mz9fh6UmAAEgAASAABAAAkAACAABIAAEgAAQAAJAAHepOSilEcCM1rdK2RAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAlkc3bGECWI0S3x+bR0EvFyaA56+CHnh+JwABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIABKBHAyqGcsAATAMgTw7V3QF+snWKv9AL5fBI08f4K1nAAnAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAMUDePg4aNf6CdZqP4B7e0H3PX+CtZwAJwABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABMBSBPDpOGho/QRrtR/AeBLl+ROs5QQ4AQgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAACgeQNMPOrR+grX8AvgFQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAGUD+Po26KP1E6zVfgA/LoMuPH+CtTKegP0n9aQ9tRn/sO2deroCQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIADmGMDeQVBj/QRrtR/AylbQmudPsJYT4AQgAASQyMmgnrEAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIADmEsDPUdCl9ROs1X4An4dBp54/wVpOgBOAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAiA4gGsrURZP8Fa7Qew+zromedPsJYT4AQgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAiAsgF8GAS9t36CtfwC+AVAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAARA8QB63ahp37D9qJ7ura2VLoCnR0Evpn3DflNP79bWcgIQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABCAABIAAEgAAQAAJAAP/tzXGQ7a+cRucaLkoAvyZBHv/KZDLnvZwAJwABIIBszoelnAtgRmejUs4EgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAmN1v1hn4526rWd8AAAAASUVORK5CYII=",class:"img-icon"})])),_:1}),s(y,{class:"tool-item",onTouchend:u(RA,["prevent"])},{default:o((()=>[s(f,{class:"txt-icon",style:{"font-size":"12px"}},{default:o((()=>[c("Clear")])),_:1})])),_:1})])),_:1})])),_:1})),L.value?(t(),n(y,{key:2,class:"modal-overlay",onClick:l[4]||(l[4]=A=>L.value=!1)},{default:o((()=>[s(y,{class:"modal-box",onClick:l[3]||(l[3]=u((()=>{}),["stop"]))},{default:o((()=>[s(f,{class:"modal-title"},{default:o((()=>[c(i(e.$t("editor.link_modal_title")),1)])),_:1}),s(B,{class:"modal-input",modelValue:F.value,"onUpdate:modelValue":l[1]||(l[1]=A=>F.value=A),placeholder:"https://example.com",focus:L.value},null,8,["modelValue","focus"]),s(y,{class:"modal-actions"},{default:o((()=>[s(b,{class:"btn-cancel",onClick:l[2]||(l[2]=A=>L.value=!1)},{default:o((()=>[c(i(e.$t("common.cancel")),1)])),_:1}),s(b,{class:"btn-confirm",onClick:VA},{default:o((()=>[c(i(e.$t("common.confirm")),1)])),_:1})])),_:1})])),_:1})])),_:1})):r("",!0),Z.value?(t(),n(y,{key:3,class:"modal-overlay",onClick:l[8]||(l[8]=A=>Z.value=!1)},{default:o((()=>[s(y,{class:"modal-box",onClick:l[7]||(l[7]=u((()=>{}),["stop"]))},{default:o((()=>[s(f,{class:"modal-title"},{default:o((()=>[c(i(e.$t("editor.card_modal_title")),1)])),_:1}),s(f,{class:"modal-desc"},{default:o((()=>[c(i(e.$t("editor.card_modal_desc")),1)])),_:1}),s(B,{class:"modal-input",modelValue:j.value,"onUpdate:modelValue":l[5]||(l[5]=A=>j.value=A),placeholder:"https://youtube.com/...",focus:Z.value},null,8,["modelValue","focus"]),s(y,{class:"modal-actions"},{default:o((()=>[s(b,{class:"btn-cancel",onClick:l[6]||(l[6]=A=>Z.value=!1)},{default:o((()=>[c(i(e.$t("common.cancel")),1)])),_:1}),s(b,{class:"btn-confirm",onClick:gA},{default:o((()=>[c(i(e.$t("common.confirm")),1)])),_:1})])),_:1})])),_:1})])),_:1})):r("",!0),G.value?(t(),n(y,{key:4,class:"modal-overlay",onClick:xA},{default:o((()=>[s(y,{class:"modal-box color-box",onClick:l[12]||(l[12]=u((()=>{}),["stop"]))},{default:o((()=>[s(y,{class:"color-tabs"},{default:o((()=>[s(y,{class:v(["color-tab",{active:"color"===W.value}]),onClick:l[9]||(l[9]=A=>W.value="color")},{default:o((()=>[c(i(e.$t("editor.color_text")),1)])),_:1},8,["class"]),s(y,{class:v(["color-tab",{active:"backgroundColor"===W.value}]),onClick:l[10]||(l[10]=A=>W.value="backgroundColor")},{default:o((()=>[c(i(e.$t("editor.color_bg")),1)])),_:1},8,["class"])])),_:1}),s(y,{class:"color-grid"},{default:o((()=>[s(y,{class:"color-circle no-color",onClick:l[11]||(l[11]=A=>_A(""))},{default:o((()=>[s(f,{class:"x-mark"},{default:o((()=>[c("✕")])),_:1})])),_:1}),(t(),k(C,null,h(T,((A,e)=>{return s(y,{key:e,class:v(["color-circle",{selected:(l=A,M.value[W.value]===l)}]),style:p({backgroundColor:A}),onClick:e=>_A(A)},null,8,["style","class","onClick"]);var l})),64))])),_:1})])),_:1})])),_:1})):r("",!0),s(y,{class:v(["custom-sheet-mask",{show:lA.value}]),onClick:kA},{default:o((()=>[s(y,{class:"custom-sheet-panel",onClick:l[13]||(l[13]=u((()=>{}),["stop"]))},{default:o((()=>[(t(!0),k(C,null,h(aA.value,((A,e)=>(t(),n(y,{key:e,class:"sheet-item",onClick:e=>(A=>{A.handler(),kA()})(A)},{default:o((()=>[s(f,null,{default:o((()=>[c(i(A.text),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),s(y,{class:"sheet-gap"}),s(y,{class:"sheet-item cancel",onClick:kA},{default:o((()=>[s(f,null,{default:o((()=>[c(i(e.$t("common.cancel")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["class"])])),_:1},8,["class"])}}}),[["__scopeId","data-v-d4db18ea"]]),K=V(A({__name:"TodoDatePicker",props:{dueDate:{},notifyAt:{}},emits:["update:dueDate","update:notifyAt","change"],setup(A,{emit:e}){const l=e;f();const a=A=>{l("update:dueDate",A),l("change",{field:"dueDate",value:A})},u=A=>{l("update:notifyAt",A),l("change",{field:"notifyAt",value:A})},r=A=>{if(!A)return"";try{const e=new Date(A.replace(/-/g,"/"));if(isNaN(e.getTime()))return A;const l=e.getDate().toString().padStart(2,"0"),a=(e.getMonth()+1).toString().padStart(2,"0"),t=e.getFullYear(),n=e.getHours().toString().padStart(2,"0");return`${l}/${a}/${t} ${n}:${e.getMinutes().toString().padStart(2,"0")}`}catch(e){return A}};return(A,e)=>{const l=d,f=g,p=m,k=x(w("uni-datetime-picker"),R);return t(),n(f,{class:"flat-item date-compound-block"},{default:o((()=>[s(f,{class:"item-left icon-top-aligned"},{default:o((()=>[s(l,{src:"https://img.icons8.com/ios/50/666666/clock--v1.png",class:"item-icon"})])),_:1}),s(f,{class:"right-column"},{default:o((()=>[s(f,{class:"date-row"},{default:o((()=>[s(k,{type:"datetime",modelValue:A.dueDate,"hide-second":!0,border:!1,onChange:a,class:"full-width-picker"},{default:o((()=>[s(f,{class:v(["item-picker",{"placeholder-color":!A.dueDate}])},{default:o((()=>[s(p,{class:"picker-label"},{default:o((()=>[c(i(A.$t("todo.due_date_label")),1)])),_:1}),s(p,{class:"picker-value"},{default:o((()=>[c(i(A.dueDate?r(A.dueDate):A.$t("todo.select_date")),1)])),_:1})])),_:1},8,["class"])])),_:1},8,["modelValue"])])),_:1}),s(f,{class:"inner-divider"}),s(f,{class:"date-row"},{default:o((()=>[s(k,{type:"datetime",modelValue:A.notifyAt,"hide-second":!0,border:!1,onChange:u,class:"full-width-picker"},{default:o((()=>[s(f,{class:v(["item-picker",{"placeholder-color":!A.notifyAt}])},{default:o((()=>[s(p,{class:"picker-label"},{default:o((()=>[c(i(A.$t("todo.notify_date_label")),1)])),_:1}),s(p,{class:"picker-value"},{default:o((()=>[c(i(A.notifyAt?r(A.notifyAt):A.$t("todo.select_date")),1)])),_:1})])),_:1},8,["class"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-98a2c311"]]);export{N as T,J as _,T as a,z as b,K as c,q as e,M as o};
