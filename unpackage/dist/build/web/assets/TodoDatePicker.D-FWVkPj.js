import{j as A,r as e,c as l,x as a,k as t,l as n,w as o,A as s,m as c,t as i,H as u,D as r,O as d,p as g,N as m,u as f,B as v,n as p,E as h,F as k,G as C,ai as y,aj as I,L as B,ak as S,P as Q,R as E,Q as b,al as _,y as w,z as V}from"./index-bOplQ8aJ.js";import{_ as x,q as R}from"./GlobalNotification.DFpq9c0l.js";const J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkklEQVR4nO2UOQrDMBQFdYmY5HgqNAgdM668NXHh4zh8SBEEXrR1f0Cg5r3hFZIxiqIotQDewOy970q7pANYgP6OeAR259xaIpesdPy6hsuAtfYBfCQAbMArVRp3hBCeWcEUeba0RF4szZFXk6bIq0vvyJtJz+TNpQdvc/2/1/hwTolWtl16sHyS03ypoiiKifgCmKK058HKOCgAAAAASUVORK5CYII=",T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFeElEQVR4nO1aa2hcRRS+qe+iouATFLT4Q8SCVsXoL1HRiMVXXasiLMnO983exaWNgo8qLko0ahWV4gsEEeqDYG1N8FGF/vCHUnyDtgqKRU2rVGs0+EhsUznZMzq9vffu3WRvsi0ODGTnnDkz353zmHMmQfB/2wtbpVI5GMAlAO4nOQTgCwDbSI5L1783Ahgk2U+yS+YEbdI6ZPMkBwD8RXJnk/1PAC8JKJE1KwistVeT/DRhg9+RvIfkOd7YAgC3k9wUNwfAJ8aYK2cMQKlUOonk294mfiA5on9vJ/mArzKOz/2uVqsHkKwpr9C2AtjiyXszDMN5uYIgeT3J37wNLNEvL7/H5JRi5uwCxBvvIvm7nsYtJKsik/Xfv5JcnAeGDpJ9nhqsKZVKR5O8AMAO6caYhQngY4E4MAD+lm6M6VSZq73TubvVIB53qgPgRhmsVquHqi3IeF/S5DQgSr9Veb4qFosHypis4aneipagcCcB4A/fGNXNykLv1Wq1facKpFarzQHwrq5xhzfvClmzJSejNiEL7LDWXu6NHyuuU2nnNpCRCkRauVw+neSE2F8Yhoe7cVlT1pb5xphrpuOdnGHf5NMA3KvjQ43kZAGifC8r752RtXp1fGRK3ozk61MIcHn3tVMJdjvbsVtPxbN4KRexl8ac1LNKW5bxZDOplvIuU/6nYmhVpX2c6TqjdyeZMOzcYQTkZqGXy+VTcwAyX/k3RWmyFwDfq+FfnEXYQNQVerSTlbYly8aaBSINwI/CH2fYsieV92KqkJ6enkPUrU5Ya0+I2dQNKmh1jkDW6JzdriiyJ9mbxpe5DdUKwPqETS2Pc5EtBnKXzulPoK9X+kVpQly0Xp6wqVeSvlYLgVyrcwYS5D2k9PvSFh1SY4rNCwB8pCd2Vl5ASJ6ta7yfsIdFKvPVNCFfKpDTEuiTSZEx5sS8gIRhOE+BfJMgb4HK3JgoBMBPynREgpBfhF4sFg/LC0ilnvuPylpx9O7u7iNV5ta0RcdmMkon7cMY00ny57S5UiNoeyBecJwMvgl9LGhH1SK5juQHkiKk8WkWKSeyLZFJalGzZeyeynydJt8ZO4DP04AMqsCrZtr9RtRm2Fp7SgJfQfcwmCasPy0gAliVV0D0QKzTjYqanxmzh4eV77Y0YV2zdUVxfMX6LXfQlYWstedFgDyt6t2Z6sNn69Lo85Hcj+TzXtHj31JToVDYH8AzwpMqUGuxsV89z2t8lK9Wq80h+YSOj1trr8u65i7qJQbX29t7UFJiJX4+TyBRu9VCoA2aaSQ/bJTqxiVeeQDxingTylMLsja5/c50ZG8EGIB1Na6kXCVp4mvtBMTLVcZVI54UOwqyXKe1Ki4L3DwDBbpMfMaYhV4pdWVD76XCFztD85OtSqVyTCtLps3wSZPY4qqgEnNiqj27Nykge89ki1pdxM7CV6nnKG/JPczrTlsyaYZbZIXnApe08lkhC1+pXod2Xiuuf5YJSORkJo9T1MsYc/50HnqS+AqFwj56p3rUo69VnsfEfv0u0T5opklp3x2pXuqWegAlKStkBULy0ji+Qh3EC+63fCyhA7hQxzbLO2Qw3abe7I2kx1AAD6Y9hoph6rvj9jgg+A/EpCrJWtE0wlpbClrV9BFmUnC0a422Tzya92XPkNsAgG/T4gjrfUT/+WBUAc33H55IbsgUQ5poHVJQllqs59unFRBJjrgrutiIfpjn5Ld4R5elArislUD8jcyVMqZUALV+u0ErIWMCUk9JnitWyz8OON335g+L/Rkvz5BUQl58JZqHYXh8JPl7J2jHJl6wXC4fFR338pJVEkt89Q32pFauP5T69jcK4BFjzHHBntZIrpQTEJX0X3332vYPcl0YezzF/FYAAAAASUVORK5CYII=",z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADw0lEQVR4nO2ZXYhVVRTH12RmFlkpIhL1YPZpkWCgJPQQhIZvwVGxscvcs///fU/TNUeCcF6uEuiTfTxUihA+yuQnveQXmILYQ9CHImY9iCkx6KiRkZYpy1mHzkMz595zx9knmh/sp7vXumvtvc/aa60tMsYY/y3iOJ7pnHuN5FqSH5J8j2Svc+6lRqNxp5SZKIrGAaiSPEbyxjDjR5IvShkhOR3AkYyxZ0n2AXif5CobujMn9XcAv5P8CMALUhYqlcoDGQN/ILlIRDr+bW6j0bgDwIbsDgHYSvIeCQ3JLWbU1yTvz5uvznjvnya5kmS/ye6QkJB8hORfAP703j/XqnySJDMADJgzCyUUAN6w47G9DR1r0iMmoSC5U43w3sdFdcRx/JQ58pOEguRRNcI5N6/NsP0Hyb+DffQkT9n5frIdPQAuqx6NgBICkifUgFqt9kSbeq6onnq9PklCAOBL25HCN3Ucx5NNx28SCrvM9ENdWlQHybnmyHcja11rRvSaEeuL6gDwti3GJxIK59wCc+RAUR0kPzcdyyQUAF4xI34tkp5HUXQXyUumY5GEguRBM+KdoRLFHDoArLajtV9CkYbfInlWisqaI8clFAA+MyOqRXWQdLarfRIK7/3rZsRpLZ5albeC67QtxnIJheZJJLdpnqRphtYazcpakXU5zZ6jKBonoQHwjSWPs5qVIfms7eYJKQscrMfVqHUtyKw3mY1SFpxzc+yIDHR1dU1tMr+6YBFvvpQJALtshQ92d3dPGWpetVq9j+Qem7tPyob3/iGSv+QVWlq7mBN6oz8qZYSDnZRhHbEOyq1GnZQVAN/nOZLW6CTPSFmhlb61Wu2ZnBaSOtIvZSSO42la5amRSZI8PNQ8beJZo+GqOiVlgoOX27e20l80Mb8vvQxJPi+hcc7N0sqO5LVM73d6npyG50zXXjuVnzrnZstoogUUyVe1KrQjog5c1x5wK+0cu082m2za1D7snFtMcvxtc6BSqdwN4M00W7VxBcCm4T7uPCyKfZx+X7YwPwN4q6enZ+JI+tBhDzhnMw7osViRJMmDI/UnHAwC3ZlvTcc5rVcKVp//0NnZeS/J3RnFR0eja+69fzn7cKTpj9pSSFm9Xp9A8pApOk9yiYwyAJZnjtwhbVa0rITkB+kN7Jx7/LZY2nxoP2MLuqElYe/9Y/p4YxFlrgTGOTfPbLmmL8ZNCwJ411Zgr5QEkvvshKxtWgjAVyaUSEkgmaQBpxWhizlv5cEGgIGmnNBLKLSxzBl6ObexuWOM8b/jJtwwIqjk6mZBAAAAAElFTkSuQmCC",U=""+new URL("link-BdDtBbpL.png",import.meta.url).href,D=""+new URL("choseImage-c9DaY111.png",import.meta.url).href,Y=A=>{if(!A)return"";let e=A.trim();/^https?:\/\//i.test(e)||(e="http://"+e);try{return new URL(e).hostname}catch(l){const A=e.match(/^(?:https?:\/\/)?(?:www\.)?([^:\/\n?]+)/im);return A?A[1]:""}},q=A=>{if(!A)return{cleanHtml:"",links:[]};const e=[];return{cleanHtml:A.replace(/<iframe[^>]+src="([^">]+)"[^>]*><\/iframe>/g,((A,l)=>(l&&e.push(l),""))),links:e}},H=(A,e)=>{let l=A;return e.forEach((A=>{l+=`<iframe class="ql-video" frameborder="0" allowfullscreen="true" src="${A}"></iframe>`})),l},O=A=>{if(!A)return;let e=A.trim();e.startsWith("http")||(e="https://"+e),window.open(e,"_blank")},M=x(A({__name:"LinkCard",props:{url:{type:String,required:!0,default:""},removable:{type:Boolean,default:!1}},emits:["remove"],setup(A,{emit:f}){const v=A,p=e(!1),h=l((()=>(A=>{let e=Y(A);if(!e)return"Liên kết ngoài";try{e=e.replace(/^www\./,"");const A=e.split(".");let l=A[0];if(A.length>2){const e=A[A.length-1],a=A[A.length-2];2===e.length&&["com","net","org","gov","edu"].includes(a)?A.length>=3&&(l=A[A.length-3]):l=A[A.length-2]}else 2===A.length&&(l=A[0]);return l.charAt(0).toUpperCase()+l.slice(1)}catch(l){return e||"Liên kết ngoài"}})(v.url))),k=l((()=>(A=>{const e=Y(A);return e?`https://www.google.com/s2/favicons?domain=${e}&sz=64`:""})(v.url)));a((()=>v.url),(()=>{p.value=!1}));const C=A=>{p.value=!0},y=()=>{O(v.url)};return(e,l)=>{const a=d,f=g,v=m;return A.url?(t(),n(f,{key:0,class:"link-card",onClick:u(y,["stop"])},{default:o((()=>[s(f,{class:"link-card-icon"},{default:o((()=>[!p.value&&k.value?(t(),n(a,{key:0,src:k.value,class:"card-icon-img",mode:"aspectFit",onError:C},null,8,["src"])):(t(),n(a,{key:1,src:"https://img.icons8.com/ios-filled/50/007aff/internet.png",class:"card-icon-img"}))])),_:1}),s(f,{class:"link-card-content"},{default:o((()=>[s(v,{class:"link-domain"},{default:o((()=>[c(i(h.value),1)])),_:1}),s(v,{class:"link-url"},{default:o((()=>[c(i(A.url),1)])),_:1})])),_:1}),A.removable?(t(),n(f,{key:0,class:"link-card-remove",onClick:l[0]||(l[0]=u((A=>e.$emit("remove")),["stop"]))},{default:o((()=>[s(v,{class:"remove-btn"},{default:o((()=>[c("✕")])),_:1})])),_:1})):r("",!0)])),_:1})):r("",!0)}}}),[["__scopeId","data-v-3636e546"]]),N=x(A({__name:"TodoEditor",props:{modelValue:String,placeholder:{type:String,default:""},readOnly:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(A,{emit:w}){const{t:V}=f(),x=A,R=w,J=[{name:"header",iconText:"H",style:"font-weight:bold",action:"header-menu"},{name:"fontSize",iconText:"A",style:"font-weight:bold; font-size:16px",action:"fontsize-menu"},{name:"bold",iconText:"B",style:"font-weight:900"},{name:"italic",iconText:"I",style:"font-style:italic"},{name:"underline",iconText:"U",style:"text-decoration:underline"},{name:"color",iconImg:"/static/text_color.png",action:"color-picker"},{name:"backgroundColor",iconImg:"/static/background_color.png",action:"bgcolor-picker"},{name:"strike",iconText:"S",style:"text-decoration:line-through"},{name:"align",iconImg:"/static/align-left.png",action:"align-menu"},{name:"list",value:"ordered",iconImg:"/static/numbered-list.png"},{name:"list",value:"bullet",iconImg:"/static/list.png"}],T=["#000000","#333333","#888888","#aaaaaa","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#880088","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5"],z=e(`editor-${Math.random().toString(36).substr(2,5)}`),Y=e(null),O=e({}),N=b(),K=e(!1),X=e(""),P=e(!1),L=e(!1),F=e(""),Z=e(!1),j=e(""),G=e(!1),W=e("color"),$=e([]),AA=e(!1),eA=()=>{AA.value=!AA.value},lA=e(!1),aA=e([]),tA=e(!1),nA=e(""),oA=e(0),sA=e(0),cA=e(0),iA=e("top"),uA=l((()=>({top:`${oA.value}px`}))),rA=A=>{A.touches&&A.touches.length>0&&(sA.value=A.touches[0].clientY)},dA=()=>{nA.value&&(window.open(nA.value,"_blank"),tA.value=!1)},gA=()=>{nA.value&&y({data:nA.value,success:()=>{I({title:"Đã sao chép link",icon:"none"}),tA.value=!1}})},mA=()=>{nA.value&&(F.value=nA.value,tA.value=!1,L.value=!0)},fA=()=>{j.value="",Z.value=!0},vA=()=>{if(j.value){let A=j.value.trim();A.startsWith("http")||(A="https://"+A),$.value.push(A),pA()}Z.value=!1},pA=()=>{Y.value&&Y.value.getContents({success:A=>{const e=A.html;X.value=e;const l=H(e,$.value);R("update:modelValue",l)}})},hA=A=>{const e=O.value[A.name];return"header-menu"===A.action?e?`H${e}`:"H":"fontsize-menu"===A.action?"small"===e?"Sm":"large"===e?"Lg":"huge"===e?"Hg":"A":A.iconText},kA=A=>{if("align-menu"===A.action){switch(O.value.align||"left"){case"center":return"/static/align-center.png";case"right":return"/static/align-right.png";case"justify":return"/static/align-justify.png";default:return"/static/align-left.png"}}return A.iconImg},CA=A=>{const e=O.value[A.name];return"header-menu"===A.action||"fontsize-menu"===A.action?!!e:"align-menu"===A.action?!!e&&"left"!==e:"color"===A.name?!!O.value.color:"backgroundColor"===A.name?!!O.value.backgroundColor:A.value?e===A.value:!!e},yA=()=>{lA.value=!1},IA=()=>{aA.value=[{text:V("editor.align_left"),handler:()=>VA("align","left")},{text:V("editor.align_center"),handler:()=>VA("align","center")},{text:V("editor.align_right"),handler:()=>VA("align","right")},{text:V("editor.align_justify"),handler:()=>VA("align","justify")}],lA.value=!0},BA=()=>{aA.value=[{text:V("editor.size_small"),handler:()=>VA("fontSize","12px")},{text:V("editor.size_normal"),handler:()=>VA("fontSize","16px")},{text:V("editor.size_large"),handler:()=>VA("fontSize","24px")},{text:V("editor.size_huge"),handler:()=>VA("fontSize","32px")}],lA.value=!0},SA=()=>{aA.value=[{text:"Heading 1",handler:()=>VA("header",1)},{text:"Heading 2",handler:()=>VA("header",2)},{text:"Heading 3",handler:()=>VA("header",3)},{text:"Heading 4",handler:()=>VA("header",4)},{text:V("editor.size_normal"),handler:()=>VA("header",null)}],lA.value=!0},QA=()=>{aA.value=[{text:V("editor.img_camera"),handler:()=>{_({count:1,sourceType:["camera"],success:A=>EA(A)})}},{text:V("editor.img_album"),handler:()=>{_({count:1,sourceType:["album"],success:A=>EA(A)})}}],lA.value=!0},EA=A=>{const e=A.tempFilePaths[0];setTimeout((()=>{Y.value&&Y.value.insertImage({src:e,width:"80%",alt:"image",success:function(){console.log("Chèn ảnh thành công")},fail:function(A){console.error("Chèn ảnh thất bại",A)}})}),200)},bA=()=>{B().in(N).select(`#${z.value}`).context((A=>{if(A&&A.context&&(Y.value=A.context,x.modelValue)){const{cleanHtml:A,links:e}=q(x.modelValue);$.value=e,Y.value.setContents({html:A}),X.value=A}})).exec()},_A=A=>{tA.value=!1,P.value=!0;const e=A.detail.html;X.value=e;const l=H(e,$.value);R("update:modelValue",l)},wA=A=>{O.value=A.detail,K.value=!!A.detail.link,A.detail.link?(nA.value=A.detail.link,tA.value=!0,B().in(N).select(".editor-wrapper").boundingClientRect((A=>{if(A){cA.value=A.top;const e=sA.value-A.top;let l=e-80;l<5?(l=e+25,iA.value="bottom"):iA.value="top",oA.value=l}else oA.value=10,iA.value="top"})).exec()):tA.value=!1},VA=(A,e=null)=>{Y.value&&Y.value.format(A,e)},xA=A=>{VA(W.value,A||null),G.value=!1},RA=()=>{G.value=!1},JA=()=>{K.value?(Y.value.format("link",null),tA.value=!1):(F.value="",L.value=!0)},TA=()=>{F.value&&(Y.value.format("link",F.value),setTimeout((()=>{pA()}),100)),L.value=!1},zA=()=>{Y.value.removeFormat()};return a((()=>x.modelValue),(A=>{if(Y.value){if(P.value)return void(P.value=!1);const{cleanHtml:e,links:l}=q(A||"");e!==X.value&&(Y.value.setContents({html:e}),X.value=e),JSON.stringify(l)!==JSON.stringify($.value)&&($.value=l)}})),(e,l)=>{const a=S,f=m,y=g,I=d,B=Q,b=E;return t(),n(y,{class:p(["editor-container",{"is-readonly":A.readOnly}])},{default:o((()=>[s(y,{class:"editor-wrapper"},{default:o((()=>[s(a,{id:z.value,class:"ql-container",placeholder:A.readOnly?"":A.placeholder||e.$t("editor.placeholder"),"read-only":A.readOnly,"show-img-size":"","show-img-toolbar":"","show-img-resize":"",onReady:bA,onInput:_A,onStatuschange:wA,onTouchstart:rA},null,8,["id","placeholder","read-only"]),tA.value?(t(),n(y,{key:0,class:"link-tooltip",style:v(uA.value),onClick:l[0]||(l[0]=u((()=>{}),["stop"]))},{default:o((()=>[s(y,{class:"tooltip-content"},{default:o((()=>[s(f,{class:"tooltip-url"},{default:o((()=>[c(i(nA.value),1)])),_:1})])),_:1}),s(y,{class:"tooltip-actions"},{default:o((()=>[s(y,{class:"t-btn",onClick:dA},{default:o((()=>[c(i(e.$t("common.open_link")||"Mở"),1)])),_:1}),s(y,{class:"t-divider"}),s(y,{class:"t-btn",onClick:gA},{default:o((()=>[c(i(e.$t("common.copy_link")||"Copy"),1)])),_:1}),s(y,{class:"t-divider"}),s(y,{class:"t-btn",onClick:mA},{default:o((()=>[c(i(e.$t("common.edit_link")||"Sửa"),1)])),_:1})])),_:1}),s(y,{class:p(["tooltip-arrow",iA.value])},null,8,["class"])])),_:1},8,["style"])):r("",!0)])),_:1}),$.value.length>0?(t(),n(y,{key:0,class:"link-section-frame"},{default:o((()=>[s(y,{class:"link-section-header",onClick:eA},{default:o((()=>[s(y,{class:"header-left"},{default:o((()=>[s(I,{src:U,class:"header-icon"}),s(f,{class:"header-title"},{default:o((()=>[c(i(e.$t("todo.attached_links"))+" ("+i($.value.length)+")",1)])),_:1})])),_:1}),s(I,{src:"https://img.icons8.com/ios-glyphs/30/666666/expand-arrow--v1.png",class:p(["toggle-arrow",{open:AA.value}])},null,8,["class"])])),_:1}),AA.value?(t(),n(y,{key:0,class:"link-list-content"},{default:o((()=>[(t(!0),h(C,null,k($.value,((A,e)=>(t(),n(M,{key:e,url:A,removable:!0,onRemove:A=>(A=>{$.value.splice(A,1),pA()})(e)},null,8,["url","onRemove"])))),128))])),_:1})):r("",!0)])),_:1})):r("",!0),A.readOnly?r("",!0):(t(),n(y,{key:1,class:"toolbar"},{default:o((()=>[s(y,{class:"tool-list"},{default:o((()=>[(t(),h(C,null,k(J,((A,e)=>s(y,{key:e,class:p(["tool-item",{active:CA(A)}]),onTouchend:u((e=>(A=>"header-menu"===A.action?SA():"fontsize-menu"===A.action?BA():"align-menu"===A.action?IA():"color-picker"===A.action?(W.value="color",void(G.value=!0)):"bgcolor-picker"===A.action?(W.value="backgroundColor",void(G.value=!0)):void VA(A.name,A.value))(A)),["prevent"])},{default:o((()=>[A.iconText?(t(),n(f,{key:0,style:v(A.style),class:p(["txt-icon",{"txt-dynamic":A.action}])},{default:o((()=>[c(i(hA(A)),1)])),_:2},1032,["style","class"])):(t(),n(I,{key:1,src:kA(A),class:"img-icon"},null,8,["src"]))])),_:2},1032,["class","onTouchend"]))),64)),s(y,{class:"tool-divider"}),s(y,{class:"tool-item",onTouchend:u(QA,["prevent"])},{default:o((()=>[s(I,{src:D,class:"img-icon"})])),_:1}),s(y,{class:p(["tool-item",{active:K.value}]),onTouchend:u(JA,["prevent"])},{default:o((()=>[s(I,{src:U,class:"img-icon"})])),_:1},8,["class"]),s(y,{class:"tool-item",onTouchend:u(fA,["prevent"])},{default:o((()=>[s(I,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAPusAAD7rAFZ4cbGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAJBQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPUIf2wAAAC90Uk5TAAgQGCY4QEZgaHB4fICIkJWXmJqbnqGoq66wsre4v8rQ0djc4OHj5ebq7O/4/P1rVkojAAAEoElEQVR42u3VX0uTcRjH4W3gXyIr0bR4yMiD6sC9/5cxNCKIHVgUQdrBgkTaKk+lxb18dPfuXdf5hn5/H3b3OjfV61+zHv1k0/+HzU4pG9P+z8PoN6z+7dO9mz9fh6UmAAEgAASAABAAAkAACAABIAAEgAAQAAJAAHepOSilEcCM1rdK2RAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAlkc3bGECWI0S3x+bR0EvFyaA56+CHnh+JwABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIABKBHAyqGcsAATAMgTw7V3QF+snWKv9AL5fBI08f4K1nAAnAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAMUDePg4aNf6CdZqP4B7e0H3PX+CtZwAJwABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABMBSBPDpOGho/QRrtR/AeBLl+ROs5QQ4AQgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAACgeQNMPOrR+grX8AvgFQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAGUD+Po26KP1E6zVfgA/LoMuPH+CtTKegP0n9aQ9tRn/sO2deroCQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIADmGMDeQVBj/QRrtR/AylbQmudPsJYT4AQgAASQyMmgnrEAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIADmEsDPUdCl9ROs1X4An4dBp54/wVpOgBOAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAiA4gGsrURZP8Fa7Qew+zromedPsJYT4AQgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAiAsgF8GAS9t36CtfwC+AVAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAARA8QB63ahp37D9qJ7ura2VLoCnR0Evpn3DflNP79bWcgIQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABCAABIAAEgAAQAAJAAP/tzXGQ7a+cRucaLkoAvyZBHv/KZDLnvZwAJwABIIBszoelnAtgRmejUs4EgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAmN1v1hn4526rWd8AAAAASUVORK5CYII=",class:"img-icon"})])),_:1}),s(y,{class:"tool-item",onTouchend:u(zA,["prevent"])},{default:o((()=>[s(f,{class:"txt-icon",style:{"font-size":"12px"}},{default:o((()=>[c("Clear")])),_:1})])),_:1})])),_:1})])),_:1})),L.value?(t(),n(y,{key:2,class:"modal-overlay",onClick:l[4]||(l[4]=A=>L.value=!1)},{default:o((()=>[s(y,{class:"modal-box",onClick:l[3]||(l[3]=u((()=>{}),["stop"]))},{default:o((()=>[s(f,{class:"modal-title"},{default:o((()=>[c(i(e.$t("editor.link_modal_title")),1)])),_:1}),s(B,{class:"modal-input",modelValue:F.value,"onUpdate:modelValue":l[1]||(l[1]=A=>F.value=A),placeholder:"https://example.com",focus:L.value},null,8,["modelValue","focus"]),s(y,{class:"modal-actions"},{default:o((()=>[s(b,{class:"btn-cancel",onClick:l[2]||(l[2]=A=>L.value=!1)},{default:o((()=>[c(i(e.$t("common.cancel")),1)])),_:1}),s(b,{class:"btn-confirm",onClick:TA},{default:o((()=>[c(i(e.$t("common.confirm")),1)])),_:1})])),_:1})])),_:1})])),_:1})):r("",!0),Z.value?(t(),n(y,{key:3,class:"modal-overlay",onClick:l[8]||(l[8]=A=>Z.value=!1)},{default:o((()=>[s(y,{class:"modal-box",onClick:l[7]||(l[7]=u((()=>{}),["stop"]))},{default:o((()=>[s(f,{class:"modal-title"},{default:o((()=>[c(i(e.$t("editor.card_modal_title")),1)])),_:1}),s(f,{class:"modal-desc"},{default:o((()=>[c(i(e.$t("editor.card_modal_desc")),1)])),_:1}),s(B,{class:"modal-input",modelValue:j.value,"onUpdate:modelValue":l[5]||(l[5]=A=>j.value=A),placeholder:"https://youtube.com/...",focus:Z.value},null,8,["modelValue","focus"]),s(y,{class:"modal-actions"},{default:o((()=>[s(b,{class:"btn-cancel",onClick:l[6]||(l[6]=A=>Z.value=!1)},{default:o((()=>[c(i(e.$t("common.cancel")),1)])),_:1}),s(b,{class:"btn-confirm",onClick:vA},{default:o((()=>[c(i(e.$t("common.confirm")),1)])),_:1})])),_:1})])),_:1})])),_:1})):r("",!0),G.value?(t(),n(y,{key:4,class:"modal-overlay",onClick:RA},{default:o((()=>[s(y,{class:"modal-box color-box",onClick:l[12]||(l[12]=u((()=>{}),["stop"]))},{default:o((()=>[s(y,{class:"color-tabs"},{default:o((()=>[s(y,{class:p(["color-tab",{active:"color"===W.value}]),onClick:l[9]||(l[9]=A=>W.value="color")},{default:o((()=>[c(i(e.$t("editor.color_text")),1)])),_:1},8,["class"]),s(y,{class:p(["color-tab",{active:"backgroundColor"===W.value}]),onClick:l[10]||(l[10]=A=>W.value="backgroundColor")},{default:o((()=>[c(i(e.$t("editor.color_bg")),1)])),_:1},8,["class"])])),_:1}),s(y,{class:"color-grid"},{default:o((()=>[s(y,{class:"color-circle no-color",onClick:l[11]||(l[11]=A=>xA(""))},{default:o((()=>[s(f,{class:"x-mark"},{default:o((()=>[c("✕")])),_:1})])),_:1}),(t(),h(C,null,k(T,((A,e)=>{return s(y,{key:e,class:p(["color-circle",{selected:(l=A,O.value[W.value]===l)}]),style:v({backgroundColor:A}),onClick:e=>xA(A)},null,8,["style","class","onClick"]);var l})),64))])),_:1})])),_:1})])),_:1})):r("",!0),s(y,{class:p(["custom-sheet-mask",{show:lA.value}]),onClick:yA},{default:o((()=>[s(y,{class:"custom-sheet-panel",onClick:l[13]||(l[13]=u((()=>{}),["stop"]))},{default:o((()=>[(t(!0),h(C,null,k(aA.value,((A,e)=>(t(),n(y,{key:e,class:"sheet-item",onClick:e=>(A=>{A.handler(),yA()})(A)},{default:o((()=>[s(f,null,{default:o((()=>[c(i(A.text),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),s(y,{class:"sheet-gap"}),s(y,{class:"sheet-item cancel",onClick:yA},{default:o((()=>[s(f,null,{default:o((()=>[c(i(e.$t("common.cancel")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["class"])])),_:1},8,["class"])}}}),[["__scopeId","data-v-05b00bef"]]),K=x(A({__name:"TodoDatePicker",props:{dueDate:{},notifyAt:{}},emits:["update:dueDate","update:notifyAt","change"],setup(A,{emit:e}){const l=e;f();const a=A=>{l("update:dueDate",A),l("change",{field:"dueDate",value:A})},u=A=>{l("update:notifyAt",A),l("change",{field:"notifyAt",value:A})},r=A=>{if(!A)return"";try{const e=new Date(A.replace(/-/g,"/"));if(isNaN(e.getTime()))return A;const l=e.getDate().toString().padStart(2,"0"),a=(e.getMonth()+1).toString().padStart(2,"0"),t=e.getFullYear(),n=e.getHours().toString().padStart(2,"0");return`${l}/${a}/${t} ${n}:${e.getMinutes().toString().padStart(2,"0")}`}catch(e){return A}};return(A,e)=>{const l=d,f=g,v=m,h=w(V("uni-datetime-picker"),R);return t(),n(f,{class:"flat-item date-compound-block"},{default:o((()=>[s(f,{class:"item-left icon-top-aligned"},{default:o((()=>[s(l,{src:"https://img.icons8.com/ios/50/666666/clock--v1.png",class:"item-icon"})])),_:1}),s(f,{class:"right-column"},{default:o((()=>[s(f,{class:"date-row"},{default:o((()=>[s(h,{type:"datetime",modelValue:A.dueDate,"hide-second":!0,border:!1,onChange:a,class:"full-width-picker"},{default:o((()=>[s(f,{class:p(["item-picker",{"placeholder-color":!A.dueDate}])},{default:o((()=>[s(v,{class:"picker-label"},{default:o((()=>[c(i(A.$t("todo.due_date_label")),1)])),_:1}),s(v,{class:"picker-value"},{default:o((()=>[c(i(A.dueDate?r(A.dueDate):A.$t("todo.select_date")),1)])),_:1})])),_:1},8,["class"])])),_:1},8,["modelValue"])])),_:1}),s(f,{class:"inner-divider"}),s(f,{class:"date-row"},{default:o((()=>[s(h,{type:"datetime",modelValue:A.notifyAt,"hide-second":!0,border:!1,onChange:u,class:"full-width-picker"},{default:o((()=>[s(f,{class:p(["item-picker",{"placeholder-color":!A.notifyAt}])},{default:o((()=>[s(v,{class:"picker-label"},{default:o((()=>[c(i(A.$t("todo.notify_date_label")),1)])),_:1}),s(v,{class:"picker-value"},{default:o((()=>[c(i(A.notifyAt?r(A.notifyAt):A.$t("todo.select_date")),1)])),_:1})])),_:1},8,["class"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-98a2c311"]]);export{N as T,J as _,T as a,z as b,K as c,q as e,O as o};
