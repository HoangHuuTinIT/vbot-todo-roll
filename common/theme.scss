/*common/theme.scss */

/* 1. Mặc định là LIGHT MODE */
:root,
page {
    /* Background */
    --bg-page: #f0f2f5;
    /* Màu nền tổng thể */
    --bg-surface: #ffffff;
    /* Màu nền các thẻ card, popup, header */
    --bg-input: #f8f9fa;
    /* Màu nền input */
    --bg-tag: #f0f2f5;
    /* Màu nền các tag code */

    /* Text */
    --text-primary: #333333;
    /* Chữ chính */
    --text-secondary: #666666;
    /* Chữ phụ, label */
    --text-hint: #999999;
    /* Chữ mờ, placeholder */
    --text-danger: #ff3b30;
    /* Màu đỏ cảnh báo */
    --text-highlight: #525f7f;
    /* Màu text nổi bật (cho tag) */

    /* Border & Divider */
    --border-color: #eeeeee;
    /* Đường viền */
    --border-input: #e0e0e0;
    /* Viền input */

    /* Icons */
    --icon-filter: none;
    /* Icon mặc định không đảo màu */
}

/* 2. Khi có class .theme-dark thì ghi đè lại các biến trên */
.theme-dark {
    /* Background Tối */
    --bg-page: #121212;
    --bg-surface: #1e1e1e;
    --bg-input: #2c2c2c;
    --bg-tag: #2c2c2c;

    /* Text Tối (đảo sang sáng) */
    --text-primary: #e0e0e0;
    --text-secondary: #aaaaaa;
    --text-hint: #666666;
    --text-danger: #ff5e55;
    --text-highlight: #b0c4de;

    /* Border Tối */
    --border-color: #333333;
    --border-input: #444444;

    /* Icons */
    --icon-filter: invert(1);
    /* Đảo màu icon đen sang trắng */
}

/* 3. Page Transitions using View Transitions API */
/* Cross-fade and Zoom effect */

/* Old page: Fade out + Scale down */
::view-transition-old(root) {
    animation: fade-out-scale-down 0.35s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* New page: Fade in + Scale up */
::view-transition-new(root) {
    animation: fade-in-scale-up 0.35s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

@keyframes fade-out-scale-down {
    from {
        opacity: 1;
        transform: scale(1);
    }

    to {
        opacity: 0;
        transform: scale(0.95);
    }
}

@keyframes fade-in-scale-up {
    from {
        opacity: 0;
        transform: scale(1.05);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* Fallback for browsers without View Transitions API support */
@supports not (view-transition-name: none) {
    .container {
        animation: fallback-fade-in 0.3s cubic-bezier(0.22, 1, 0.36, 1);
    }

    @keyframes fallback-fade-in {
        from {
            opacity: 0;
            transform: scale(1.02);
        }

        to {
            opacity: 1;
            transform: scale(1);
        }
    }
}